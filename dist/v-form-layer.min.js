var VFormLayer=function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?n(r,!0).forEach(function(n){t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r(e){return o(e)||s(e)||a()}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e,t,n,i,r,o,s,a,l,c){"boolean"!=typeof s&&(l=a,a=s,s=!1);var h="function"==typeof n?n.options:n;e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,r&&(h.functional=!0)),i&&(h._scopeId=i);var u;if(o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=u):t&&(u=s?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(h.functional){var d=h.render;h.render=function(e,t){return u.call(t),d(e,t)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,u):[u]}return n}function c(e){return document.getElementById(e)}var h={data:function(){return{validators:[],formLines:[]}},created:function(){var e=this;this.$on("form.line.cols.validator",function(t){e.formLines=e.formLines.concat(t)})},methods:{validateField:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.data;if(!e)return console.error("需要校验的字段，必须具有 path 属性"),{};if("function"!=typeof t)return console.error("校验rule [".concat(t,"]，必须是函数")),{};if(!r)return console.error("使用校验时，必须传入源数据 data"),{};var o=t(this.getPathValue(r,e),e),s=function(t){var r=i({path:e}),o=r.message,s=r.stop,a=void 0!==s&&s,l=n.validators.findIndex(function(t){return t.path===e});return-1===l?n.validators.push(r):n.validators.splice(l,1,r),n.$emit("validate",{path:e,success:!o,message:o,stop:a}),{path:e,success:!o,message:o,stop:a}};return"Promise"===function(e){return Object.prototype.toString.call(e).match(/ (\w+)]/)[1]}(o)?o.then(function(e){return s()}):s()},validate:function(e){var t=this;if("function"!=typeof e)return void console.error("validate参数必须是函数");Promise.all(this.formLines.map(function(e){return t.validateField(e.path,e.validator)})).then(function(t){e(!t.find(function(e){return e.stop&&e.message}),t)})},clearValidate:function(e){var t=this;e?Array.isArray(e)?e.forEach(function(e){var n=t.validators.findIndex(function(t){return t.path===e});t.validators.splice(n,1)}):console.error("clearValidate参数必须是数组"):this.validators=[]},getPathValue:function(e,t){return t.split("/").filter(function(e){return e}).reduce(function(e,t){return e[t]},e)}}},u=function(){return document.addEventListener?function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&n&&e.addEventListener(t,function(e){n(e)},i)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,function(e){n(e)})}}(),d=function(){return document.removeEventListener?function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&e.removeEventListener(t,n,i)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}(),f=function(e){for(var t=[window];e!==document.body;){if(t.push(e),!e.parentNode||e.parentNode.name)return t;e=e.parentNode}return t},p=function(e,t){e.forEach(function(e){e.addEventListener("resize",t,{passive:!0}),e.addEventListener("scroll",t,{passive:!0})})},m=function(e,t){e.forEach(function(e){e.removeEventListener("resize",t),e.removeEventListener("scroll",t)})},v=function(e){e||console.error("获取id节点失败");var t=e.getBoundingClientRect(),n=t.top,i=t.bottom,r=t.left,o=t.right,s=t.width||o-r,a=t.height||i-n;return{width:s,height:a,top:n,right:o,bottom:i,left:r,centerX:r+s/2,centerY:n+a/2}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["TEXTAREA","INPUT","SELECT"],n=[];t.find(function(t){return t===e.nodeName})&&n.push(e);return function e(t,n,i){for(var r=t.childNodes,o=0;o<r.length;o++){var s=r[o];n.find(function(e){return e===s.nodeName})&&i.push(s),e(s,n,i)}}(e,t,n),n},y=function(e){return["TEXTAREA","INPUT","SELECT"].includes(e.nodeName)},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"childNodes";if(t(e))return e;return function e(t,i){var r=t[n];if(!r||!r.length)return!1;for(var o=0;o<r.length;o++){var s=r[o];if("#comment"!==s.nodeName)return i(s)?s:e(s,i)}}(e,t)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return b(e,t)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.focus};return b(e,t,"$children")},C=l;const $={name:"VForm",mixins:[h,{data:function(){return{lineSlots:Object.freeze([]),curPath:null,direction:null}},created:function(){this.focusOpen&&(this.$on("line-slot-change",this.lineSlotChange),this.$on("on-focus",this.onFocus),this.$on("on-blur",this.onBlur),u(window,"keyup",this.keyup),u(window,"click",this.click))},computed:{focusCtrl:function(){return i({},this.focusOptions)},prevKeys:function(){return this.focusCtrl.prevKeys.toLowerCase().split("+").sort().toString()},nextKeys:function(){return this.focusCtrl.nextKeys.toLowerCase().split("+").sort().toString()},revLineSlots:function(){return r(this.lineSlots).reverse()}},methods:{lineSlotChange:function(e){var t=r(this.lineSlots),n=t.findIndex(function(t){return t.path===e.path});-1===n?t.push(e):t.splice(n,1,e),this.lineSlots=Object.freeze(t)},onFocus:function(e){var t=this;setTimeout(function(){t.curPath=e,t.$emit("focus",e)},50)},onBlur:function(e){this.$emit("blur",e)},_clear:function(){this.curPath=null},click:function(e){this.curPath&&!this.lineSlots.find(function(t){return t.slot.$el.contains(e.target)})&&this._clear()},keyup:function(e){if(this.curPath&&!this.focusCtrl.stop){var t=e.key.toLowerCase(),n=new Set;[{key:"alt",down:e.altKey},{key:"control",down:e.ctrlKey},{key:"shift",down:e.shiftKey}].forEach(function(e){e.down&&n.add(e.key.toLowerCase())}),n.add(t);var i=Array.from(n).sort().toString();i===this.prevKeys&&this.prevFocus(this.curPath),i===this.nextKeys&&this.nextFocus(this.curPath),this.$emit("keyup",i,this.curPath,e)}},prevFocus:function(e){this.direction="prev",this.nextNodeFocus(e,this.revLineSlots)},nextFocus:function(e){this.direction="next",this.nextNodeFocus(e,this.lineSlots)},nextNodeFocus:function(e,t){var n=this,i=t.findIndex(function(t){return t.path===e})||0;if(-1!==i){for(var r,o=t.length,s=S(t[i].slot),a=function(){s?(s.blur&&s.blur(),s.handleClose&&s.handleClose()):t[i].input&&t[i].input.blur&&t[i].input.blur()},l=i+1;l<o;l++){var c=t[l];if(this._isCanFocus(c)){r=l;break}}if(i===o-1||void 0===r){if(!this.focusCtrl.loop){var h="prev"===this.direction?"first-focused-node-prev":"last-focused-node-next";return this.$emit(h,this.curPath),this._clear(),void a()}r=t.findIndex(function(e){return n._isCanFocus(e)})}r!==i&&a();var u=this.getFocusNode(r,t);try{u&&u.focus&&u.focus()}catch(e){console.error(e)}}},getFocusNode:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lineSlots)[e],n=S(t.slot);return t&&(n||t.input)},_isCanFocus:function(e){var t=e.path,n=e.slot,i=e.input,r=S(n);return(!t||t&&!this.focusCtrl.skips.find(function(e){return e===t}))&&(r&&!r.disabled||!r&&i&&!i.disabled)},focus:function(e){this.getInput(e).focus&&this.getInput(e).focus()},blur:function(e){this.getInput(e).blur&&this.getInput(e).blur()},select:function(e){this.getInput(e).select&&this.getInput(e).select()},getInput:function(e){var t=this;e&&!this.lineSlots.find(function(t){return t.slot.path===e})&&console.error("focus方法传入的path [".concat(e,"] 没有定义"));var n=e?this.lineSlots.findIndex(function(t){return t.path===e}):this.lineSlots.findIndex(function(e){return t._isCanFocus(e)});if(-1!==n)return this.getFocusNode(n)}},beforeDestroy:function(){this.focusOpen&&(this.$off("line-slot-change",this.lineSlotChange),this.$off("on-focus",this.onFocus),this.$off("on-blur",this.onBlur),d(window,"keyup",this.keyup),d(window,"click",this.click))}}],props:{value:{type:Array,default:function(){return[]}},data:{type:[Object,Array],default:function(){return[]}},rules:{type:Array,default:function(){return[]}},currentPath:{type:String,default:""},labelWidth:{type:String,default:""},labelPosition:{type:String,default:""},lineHeight:{type:String,default:"32px"},itemGutter:{type:Number,default:0},response:{type:Boolean,default:!0},rowledge:{type:String,default:"24px"},focusOpen:{type:Boolean,default:!0},focusOptions:{type:Object,default:function(){}},focusTextAllSelected:{type:Boolean,default:!0},width:{type:String,default:""}},provide:function(){return{form:this}},data:function(){return{layer:[],initLayer:Object.freeze([]),isResponse:!1,validators:[],inputIndex:0}},computed:{formClass:function(){var e="v-form ";return this.response&&this.isResponse?e+="is-response":this.labelPosition&&(e+="v-form--label-".concat(this.labelPosition," ")),e}},watch:{value:function(){this.init()},validators:function(e){var t={id:"_validator",show:!0,data:e},n=this.layer.findIndex(function(e){return"_validator"===e.id});-1===n?this.layer.push(t):this.layer.splice(n,1,t),this.$emit("input",this.layer)}},created:function(){this.formLines=[],this.init()},mounted:function(){this.response&&(window.innerWidth||document.documentElement.clientWidth)<=768&&(this.isResponse=!0)},methods:{init:function(){this.layer=this.value,this.initLayer=Object.freeze(this.formationLayer())},formationLayer:function(){return(this.layer||[]).reduce(function(e,t){void 0===t.show||t.show;return(t.data||[]).forEach(function(n){n.id=t.id;var r=i({},t.view),o=e.findIndex(function(e){return e.path===n.path});-1===o?e.push({path:n.path,layer:[r]}):e[o].layer.push(r)}),e},[])}}};var P=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.formClass,style:{width:e.isResponse?"":e.width}},[e._t("default")],2)},_=[];P._withStripped=!0;var x=C({render:P,staticRenderFns:_},void 0,$,"data-v-63ab64aa",!1,void 0,void 0,void 0);const I={name:"VFormItem",props:{label:{type:String,default:""},labelWidth:{type:String,default:""},required:{type:[Boolean,String],default:""}},data:function(){return{}},inject:["form"],computed:{lineHeight:function(){return this.form.lineHeight}}};var B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-form-item",class:{"is-required":!0===e.required},style:{"--lineHeight":e.lineHeight}},[e.label?n("label",{staticClass:"v-form-item__label",style:{flex:"0 0 "+e.labelWidth}},[e._v(e._s(e.label))]):e._e(),e._v(" "),n("div",{ref:"formItemContent",staticClass:"v-form-item__content"},[e._t("default")],2)])},N=[];B._withStripped=!0;var F=C({render:B,staticRenderFns:N},void 0,I,"data-v-d9ac5640",!1,void 0,void 0,void 0),k={name:"VFormLineSlot",componentName:"VFormLineSlot",props:{vNode:{type:Object,default:function(){}},layerRow:{type:Object,default:function(){}},path:{type:String,default:""},validator:{type:Function,default:function(){}},trigger:{type:String,default:"blur",validator:function(e){return-1!==["blur","change"].indexOf(e)}},required:{type:[Boolean,String],default:""}},data:function(){return{handlerNode:null,input:null,component:null}},inject:["form"],computed:{getStyle:function(){var e,t;return(this.layerRow&&this.layerRow.layer||[]).forEach(function(n){e=n.referenceBorderColor,t=n.referenceBgColor}),{referenceBorderColor:e,referenceBgColor:t}}},watch:{layerRow:function(e){var t=this;this.$nextTick(function(){t.setNodeStyle()})},required:function(e){this.setNodeStyle()}},mounted:function(){var e=this;this.$nextTick(function(){e.init()})},beforeDestroy:function(){var e=this;this.input&&(d(this.input,"focus",this.onFocus),d(this.input,"blur",this.onBlur),this.validator&&d(this.input,this.trigger,this.inputValidateField)),this.$children.length&&this.component&&!this.component.getInput&&(this.component.$off("focus",function(){return e.onFocus(e.component)}),this.component.$off("blur",this.onBlur))},methods:{init:function(){var e=this;this.component=S(this),this.$children.length&&this.component?this.component.getInput?this.handlerNode=this.input=this.component.getInput():(this.component.$on("focus",function(){return e.onFocus(e.component)}),this.component.$on("blur",this.onBlur),this.validator&&this.$on.apply(this.component,[this.trigger,this.inputValidateField]),this.handlerNode=this.validator&&w(this.component.$el)||this.component.$el):(this.input=w(this.$el),this.handlerNode=this.input||this.$el),this.input&&(u(this.input,"focus",function(){return e.onFocus()}),u(this.input,"blur",function(){return e.onBlur()}),this.validator&&u(this.input,this.trigger,this.inputValidateField)),this.setNodeStyle(),this.form.focusOpen&&this.form.$emit("line-slot-change",{path:this.path,slot:this,input:this.input})},setNodeStyle:function(){this.handlerNode.style.border="".concat(this.getStyle.referenceBorderColor?" 1px solid "+this.getStyle.referenceBorderColor:""),this.handlerNode.style.backgroundColor="".concat(this.getStyle.referenceBgColor||("string"==typeof this.required?this.required:""))},onFocus:function(e){this.form.focusOpen&&this.form.$emit("on-focus",this.path),this.$el.parentNode.classList.add("v-layer-item--focus"),this.form.focusTextAllSelected&&(this.input?this.input.select&&this.input.select():e&&e.select&&e.select())},onBlur:function(){this.form.focusOpen&&this.form.$emit("on-blur",this.path),this.$el.parentNode.classList.remove("v-layer-item--focus")},inputValidateField:function(){this.validator&&this.form.validateField(this.path,this.validator)},handlerNodeMouseenter:function(e){this.$el.parentNode.classList.add("v-layer-item--hover")},handlerNodeMouseleave:function(e){this.$el.parentNode.classList.remove("v-layer-item--hover")}},render:function(e){return this.vNode}},L={name:"VSlot",props:{message:{type:[String,Object,Array],default:""}},render:function(e){return e("div",{},[this.message])}},O=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0;return function(){var r=this,o=arguments;if(t&&clearTimeout(t),i){var s=!t;t=setTimeout(function(){t=null},n),s&&e.apply(r,o)}else t=setTimeout(function(){e.apply(r,o)},n)}};const R={name:"VPopover",components:{VSlot:L},mixins:[{methods:{getReferenceId:function(){var e=this;if(this.placementId){var t=this.placementObj[this.placement].sort(this.compare("disabled")),n=t.findIndex(function(t){return t.id===e.placementId});if(-1!==n&&t[n-1])return t[n-1].id}},compare:function(e){return function(t,n){return t[e]-n[e]}},referenceInBetrayet:function(){var e=this;return this.betraye[this.placement].find(function(t){return t===e.getReferenceId()})},getChangeReference:function(e){var t=this,n=this.placementObj[e].find(function(n,i){return i===t.placementObj[e].length-1});return n?c(n.id):this.reference},getPlacementAllRect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.placement,t=0,n=0;return(this.placementObj[e]||[]).forEach(function(e){n+=v(c(e.id)).height+12,t+=v(c(e.id)).width+12}),{width:t,height:n}},calculateCoordinate:function(){!this.addedBody&&this.popoverAddedBody();var e=v(this.$el),t=c(this.getReferenceId())||this.reference,n=v(t),i=n;switch(this.placement){case"top":if(v(this.reference).top-this.getPlacementAllRect().height<0&&v(this.reference).bottom+this.getPlacementAllRect("bottom").height>window.innerHeight){this.momentPlacement="top";break}this.referenceInBetrayet()?this.momentPlacement="bottom":n.top-e.height-12<0?(this.momentPlacement="bottom",t=this.getChangeReference(this.momentPlacement),i=v(t)):this.momentPlacement="top";break;case"left":if(v(this.reference).left-this.getPlacementAllRect().width<0&&v(this.reference).right+this.getPlacementAllRect("right").width>window.innerWidth){this.momentPlacement="left";break}this.referenceInBetrayet()?this.momentPlacement="right":n.left-e.width-12<0?(this.momentPlacement="right",t=this.getChangeReference(this.momentPlacement),i=v(t)):this.momentPlacement="left";break;case"right":if(v(this.reference).left-this.getPlacementAllRect("left").width<0&&v(this.reference).right+this.getPlacementAllRect().width>window.innerWidth){this.momentPlacement="right";break}this.referenceInBetrayet()?this.momentPlacement="left":n.right+e.width+12>window.innerWidth?(this.momentPlacement="left",t=this.getChangeReference(this.momentPlacement),i=v(t)):this.momentPlacement="right";break;case"bottom":if(v(this.reference).top-this.getPlacementAllRect("top").height<0&&v(this.reference).bottom+this.getPlacementAllRect().height>window.innerHeight){this.momentPlacement="bottom";break}this.referenceInBetrayet()?this.momentPlacement="top":n.bottom+e.height+12>window.innerHeight?(this.momentPlacement="top",t=this.getChangeReference(this.momentPlacement),i=v(t)):this.momentPlacement="bottom";break;default:console.error("Wrong placement prop")}var r,o;switch(this.momentPlacement){case"top":o=i.centerX-e.width/2,r=i.top-e.height-12;break;case"left":o=i.left-e.width-12,r=i.centerY-e.height/2;break;case"right":o=i.right+12,r=i.centerY-e.height/2;break;case"bottom":o=i.centerX-e.width/2,r=i.bottom+12;break;default:console.error("Wrong placement prop")}this.$el.style.top=r+"px",this.$el.style.left=o+"px"}}}],props:{referenceId:{type:String,default:""},trigger:{type:String,default:"hover"},effect:{type:String,default:"dark"},borderColor:{type:String,default:""},message:{type:[String,Object,Array],default:""},disabled:{type:[Boolean,Number],default:!1},placement:{type:String,default:"top"},placementId:{type:String,default:""},betraye:{type:Object,default:function(){}},placementObj:{type:Object,default:function(){}},visibleArrow:{type:Boolean,default:!0},showAlways:Boolean,positions:{type:Array,default:function(){return[]}},enterable:Boolean,popoverClass:{type:String,default:""},hideDelay:{type:Number,default:200},path:{type:String,default:""}},data:function(){return{reference:null,show:!1,addedBody:!1,timeoutPending:null,momentPlacement:this.placement,parentNodes:[]}},inject:["form"],computed:{isMorePlacement:function(){var e=this,t=!1;return["top","bottom"].find(function(t){return t===e.placement})&&this.placementObj.top.length+this.placementObj.bottom.length>=2&&(t=!0),["left","right"].find(function(t){return t===e.placement})?this.placementObj.left.length+this.placementObj.right.length>=2&&(t=!0):t},isVisible:function(){return(this.showAlways||this.show)&&!this.disabled},pClass:function(){return"".concat(this.effect?"is-".concat(this.effect):"is-light","  v-popover__").concat(this.momentPlacement," ").concat(this.popoverClass||""," ").concat(this.isVisible?"v-popover--visible":"v-popover--hidden")},popoverStyle:function(){var e={"--borderColor":"#ccc","--bgColor":"#fff"};if("string"==typeof this.effect)switch(this.effect){case"light":e["--borderColor"]="#ccc",e["--bgColor"]="#fff";break;case"dark":e["--borderColor"]="#303133",e["--bgColor"]="#303133",e["--color"]="#fff";break;case"warn":e["--borderColor"]="#e6a23c",e["--bgColor"]="#e6a23c",e["--color"]="#fff";break;case"error":e["--borderColor"]="#f56c6c",e["--bgColor"]="#f56c6c",e["--color"]="#fff";break;default:e["--borderColor"]=this.borderColor||this.effect,e["--bgColor"]=this.effect,e["--color"]="#fff"}return e}},watch:{showAlways:function(e){e&&setTimeout(this.calculateCoordinate,0)},show:function(e){e?(this.form.$emit("show",this.path),this.popoverAddedBody(),this.calculateCoordinate()):this.form.$emit("hide",this.path)},momentPlacement:function(e){e===this.placement?this.$emit("removeBetrayer",{id:this.placementId,placement:this.placement}):this.$emit("addBetrayer",{id:this.placementId,placement:this.placement})}},mounted:function(){var e=this;this.$nextTick(function(){var t=document.getElementById(e.referenceId);if(t){var n=g(t);n.length>=1?e.reference=n[0]:e.reference=t,e.parentNodes=f(e.reference),p(e.parentNodes,e.scrollChange),e.calculateCoordinate(),"hover"===e.trigger?(u(e.reference,"mouseenter",e.doShow),u(e.reference,"mouseleave",e.doHide)):"focus"===e.trigger?(u(e.reference,"focus",e.doShow),u(e.reference,"blur",e.doHide)):u(window,"click",e.triggerClick)}})},beforeDestroy:function(){this.reference&&this.reference.nodeName&&(m(this.parentNodes,this.scrollChange),"hover"===this.trigger?(d(this.reference,"mouseenter",this.doShow),d(this.reference,"mouseleave",this.doHide)):"focus"===this.trigger?(d(this.reference,"focus",this.doShow),d(this.reference,"blur",this.doHide)):d(window,"click",this.triggerClick),this.addedBody&&document.body.removeChild(this.$el))},methods:{popoverAddedBody:function(){this.addedBody||!this.show&&!this.showAlways||(document.body.appendChild(this.$el),this.addedBody=!0)},triggerClick:function(e){var t=this.$el,n=this.reference;if(t&&n&&e.target)if(n.contains(e.target))!this.disabled&&(this.show=!this.show);else{if(t.contains(e.target))return;this.show=!1}},doShow:function(){this.disabled||"click"===this.trigger||(this.timeoutPending?(clearTimeout(this.timeoutPending),this.show=!0):this.show=!0)},doHide:function(){var e=this;this.disabled||"click"===this.trigger||(this.timeoutPending=setTimeout(function(){e.show=!1},this.hideDelay))},mouseenterWrap:function(){this.enterable&&clearTimeout(this.timeoutPending)},mouseleaveWrap:function(){var e=this;this.enterable&&"click"!==this.trigger&&(this.timeoutPending=setTimeout(function(){e.show=!1},200))},scrollChange:function(){this.isVisible?this.calculateCoordinate():this.isMorePlacement&&O(this.calculateCoordinate)()}}};var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"v-popover",class:e.pClass,style:e.popoverStyle,attrs:{id:e.placementId},on:{mouseenter:e.mouseenterWrap,mouseleave:e.mouseleaveWrap}},[e.visibleArrow?n("div",{staticClass:"v-popover__arrow"}):e._e(),e._v(" "),n("v-slot",{attrs:{message:e.message}})],1)])},A=[];E._withStripped=!0;var j=C({render:E,staticRenderFns:A},void 0,R,"data-v-2c871b0d",!1,void 0,void 0,void 0);const V={name:"VText",components:{VSlot:L},props:{referenceId:{type:String,default:""},message:{type:[String,Object,Array],default:""},disabled:Boolean,effect:{type:String,default:""},placement:{type:String,default:"bottom"}},data:function(){return{reference:null}},mounted:function(){var e=this;this.$nextTick(function(){e.reference=document.getElementById(e.referenceId),e.calculateCoordinate()})},methods:{calculateCoordinate:function(){if(this.$el)switch(this.placement){case"top":this.$el.style.top=-this.$el.offsetHeight-3+"px";break;case"right":this.$el.style.width=this.$el.offsetWidth+"px",this.$el.style.left=this.reference.offsetWidth+3+"px";break;case"bottom":break;case"left":this.$el.style.width=this.$el.offsetWidth+"px",this.$el.style.left=-this.$el.offsetWidth-3+"px";break;default:console.error("placement 必须是 top/right/bottom/left")}}}};var T=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-slot",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"v-text",class:"v-text__"+e.placement,style:{color:e.effect},attrs:{message:e.message}})},W=[];T._withStripped=!0;var q=C({render:T,staticRenderFns:W},void 0,V,"data-v-aed79da2",!1,void 0,void 0,void 0);const H={name:"VTriangle",props:{referenceId:{type:String,required:!0},effect:{type:String,default:"#F56C6C"},message:{type:String,default:""},placement:{type:String,default:"right-bottom",validator:function(e){return-1!==["left-top","left-bottom","right-top","right-bottom"].indexOf(e)}},disabled:Boolean,size:{type:[String,Number],default:"8px"}},data:function(){return{reference:null}},computed:{referenceRect:function(){return v(document.getElementById(this.referenceId))},style:function(){var e=this;this.placement.split("-").reduce(function(t,n){return t[n]=0,t["border-".concat(n,"-color")]=e.effect,t},{});return i({border:"".concat(parseInt(this.size)/2,"px solid transparent")})}}};var D=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"v-triangle",style:e.style,attrs:{title:e.message}})},G=[];D._withStripped=!0;var K={name:"VLayer",components:{VPopover:j,VText:q,VTriangle:C({render:D,staticRenderFns:G},void 0,H,"data-v-d22461f2",!1,void 0,void 0,void 0)},props:{path:{type:String,default:""},layer:{type:Array,default:function(){return[]}}},provide:function(){return{layer:this}},data:function(){return{betraye:{left:[],right:[],top:[],bottom:[]},loadLayer:!1}},methods:{addBetrayer:function(e){e.id&&!this.betraye[e.placement].find(function(t){return t===e.id})&&this.betraye[e.placement].push(e.id)},removeBetrayer:function(e){var t=this.betraye[e.placement].findIndex(function(t){return t===e.id});-1!==t&&this.betraye[e.placement].splice(t,1)},handleLoadLayer:function(){this.loadLayer||(this.loadLayer=!0)}},render:function(e){var t=this,n={left:[],right:[],top:[],bottom:[]},i=[],r="v-layer";return this.layer.forEach(function(o){var s={},a=t.path,l=o.template,c=o.type,h=o.show,u=o.referenceBorderColor,d=o.layerClass,f=o.effect&&o.effect.toLowerCase()||void 0,p=o.placement,m=o.message,v=o.disabled;if(u&&(r+=" is-validator"),d&&(r+=" "+d),m="function"==typeof l?l(m,a):m,c&&"popover"!==c)"text"===c?(s=e("v-text",{attrs:{referenceId:a,message:m,placement:p,disabled:v,effect:f}}),i.push(s)):"triangle"===c&&(s=e("v-triangle",{attrs:{referenceId:a,placement:p,disabled:v,effect:f,message:m}}),i.push(s));else{!p&&(p="top"),v=!0===v||!1===h?1:0;var g="".concat(t.path,"/").concat(p,"/").concat(n[p].length+1);if(n[p].push({id:g,disabled:v}),o.showAlways||t.loadLayer){var y=o.trigger,b=o.visibleArrow,w=o.borderColor,S=o.showAlways,C=o.enterable,$=o.popoverClass,P=o.hideDelay;s=e("v-popover",{attrs:{referenceId:a,placementId:g,message:m,placement:p,disabled:v,effect:f,trigger:y,visibleArrow:b,borderColor:w,showAlways:S,enterable:C,popoverClass:$,hideDelay:P,path:t.path,betraye:t.betraye,placementObj:n},on:{addBetrayer:t.addBetrayer,removeBetrayer:t.removeBetrayer}}),i.push(s)}}}),e("div",{on:{mouseenter:this.handleLoadLayer},class:r},[this.$slots.default[0],i])}};const z={name:"VCol",props:{span:{type:Number,default:24},noFirst:{type:Boolean,default:!1}},data:function(){return{}},inject:["form"],computed:{style:function(){var e={};if(this.span){var t=Math.floor(this.span/24*100*1e4)/1e4+"%";e.width=this.noFirst&&!this.form.isResponse?"calc(".concat(t," + 1px)"):t}else e.width="100%";return e}},methods:{}};var M=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"v-col",style:e.style},[e._t("default")],2)},X=[];M._withStripped=!0;var U=C({render:M,staticRenderFns:X},void 0,z,"data-v-5d820805",!1,void 0,void 0,void 0),Y=[x,{name:"VFormLine",componentName:"VFormLine",components:{VFormItem:F,VFormLineSlot:k,VLayer:K,VCol:U},props:{cols:{type:Array,default:function(){return[]}},label:{type:String,default:""},span:{type:Number,default:24},labelWidth:{type:String,default:""},required:{type:Boolean,default:!1}},inject:["form"],computed:{slotsLen:function(){return(this.$slots.default||[]).filter(function(e,t){return e.tag}).length},lineFreeSpace:function(){var e=24,t=this.slotsLen;return(this.cols||[]).forEach(function(n){n.span&&(e-=n.span,t--)}),e/t},itemGutter:function(){return this.form.itemGutter/2+"px"},isResponse:function(){return this.form.isResponse},rowledge:function(){return this.form.rowledge},id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},created:function(){var e=this.cols.filter(function(e){return e.validator});e.length&&this.form.$emit("form.line.cols.validator",e)},render:function(e){var t=this,n=[],i=[];(this.$slots.default||[]).filter(function(e,t){return e.tag}).forEach(function(r,o){var s,a,l=t.cols.length&&t.cols[o]||{},c=l.label,h=l.path,u=void 0===h?"_".concat(t.id,"-").concat(o+1,"_"):h,d=l.required,f=void 0!==d&&d,p=l.validator,m=l.trigger;t.cols.length&&t.cols[o]?(s=t.cols[o].span||t.lineFreeSpace,a=t.cols[o].labelWidth||t.labelWidth||t.form.labelWidth||"80px"):s=t.lineFreeSpace,t.isResponse&&(s=24);var v=t.form.initLayer.find(function(e){return e.path===u});r=e("v-form-line-slot",{attrs:{path:u,vNode:r,layerRow:v,validator:p,trigger:m,required:f}});var g=v&&v.layer||[];if(r=e("v-layer",{attrs:{id:u,layer:g,path:u}},[r]),!t.label){var y=c?e("v-form-item",{attrs:{label:c,labelWidth:a,required:f}},[r]):r;n.push(e("v-col",{attrs:{span:s}},[y]))}if(t.label){var b=!!i.length;i.push([e("v-col",{attrs:{span:s,noFirst:b},class:"v-form-line--abreast"},[r])])}}),this.label&&n.push(e("v-form-item",{attrs:{label:this.label,labelWidth:this.labelWidth||this.form.labelWidth||"80px",required:this.required}},[i]));var r=this.isResponse?24:this.span,o={};return this.itemGutter&&(o["margin-left"]="-"+this.itemGutter,o["margin-right"]="-"+this.itemGutter),e("v-col",{attrs:{span:r},style:o},[e("div",{class:"v-form-line",style:{padding:"0 ".concat(this.itemGutter),marginBottom:this.rowledge}},[n])])}},{name:"VLayerItem",componentName:"VLayerItem",components:{VFormItem:F,VFormLineSlot:k,VLayer:K,VCol:U},props:{label:{type:String,default:""},span:{type:Number,default:24},labelWidth:{type:String,default:"80px"},required:{type:Boolean,default:!1},trigger:{type:String,default:"blur"},validator:{type:Function,default:function(){}}},inject:["form"],computed:{itemGutter:function(){return this.form.itemGutter/2+"px"},isResponse:function(){return this.form.isResponse},rowledge:function(){return this.form.rowledge},id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},created:function(){this.validator&&this.form.$emit("form.line.cols.this.",[this.validator])},render:function(e){var t=this.$slots.default[0],n=this.labelWidth||this.form.labelWidth||"80px",i=this.label,r=this.path,o=void 0===r?"_".concat(this.id,"_"):r,s=this.required,a=void 0!==s&&s,l=this.validator,c=this.trigger;this.isResponse&&(this.span=24);var h=this.form.initLayer.find(function(e){return e.path===o});t=e("v-form-line-slot",{attrs:{id:o,path:o,vNode:t,layerRow:h,validator:l,trigger:c,required:a}}),t=e("v-layer",{attrs:{layer:h&&h.layer||[],path:o}},[t]);var u=i?e("v-form-item",{attrs:{label:i,labelWidth:n,required:a}},[t]):t,d={};return this.itemGutter&&(d["margin-left"]="-"+this.itemGutter,d["margin-right"]="-"+this.itemGutter),e("v-col",{attrs:{span:void 0},style:{padding:"0 ".concat(this.itemGutter),marginBottom:this.rowledge}},[e("div",{class:"v-layer-item",style:d},[u])])}}],J={install:function(e){Y.forEach(function(t){e.component(t.name,t)})}},Q=null;return"undefined"!=typeof window?Q=window.Vue:"undefined"!=typeof global&&(Q=global.Vue),Q&&Q.use(J),e.default=J,e}({});
